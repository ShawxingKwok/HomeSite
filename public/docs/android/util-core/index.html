<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Contains only AppContext and KLog at present, and would be expanded with some small practical tools in the future. Setup # dependenceis{ ... implementation (&#34;io.github.shawxingkwok:android-util-core:1.0.0&#34;) } AppContext # It is the static applicationContext for you to get anywhere. In this way, your Database, DAO, NetService and some other tools could be static, of which the profit is much more considerable than the additional resource memory.
Companion extension trick # Declare static AppDatabase.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Util-core" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://shawxingkwok.github.io/ITWorks/docs/android/util-core/" />
<title>Util-core | ITWorks</title>
<link rel="manifest" href="/ITWorks/manifest.json">
<link rel="icon" href="/ITWorks/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/ITWorks/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/ITWorks/flexsearch.min.js"></script>
  <script defer src="/ITWorks/en.search.min.bf6233f1ea84f163320ef57973942ccc8414475133bfcf9cdefd1f66dffffeaf.js" integrity="sha256-v2Iz8eqE8WMyDvV5c5QszIQUR1Ezv8&#43;c3v0fZt///q8=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="https://shawxingkwok.github.io/ITWorks/docs/android/util-core/index.xml" title="ITWorks" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/ITWorks/"><span>ITWorks</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Multiplatform</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/multiplatform/kt-util/" class="">Kt util</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Jvm</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f25bd71e28f95a08738fe572911bbd65" class="toggle"  />
    <label for="section-f25bd71e28f95a08738fe572911bbd65" class="flex justify-between">
      <a href="/ITWorks/docs/jvm/tracer/" class="">Tracer</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/setup/" class="">Setup</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Usage</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/usage/annotations/" class="">Annotations</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/usage/naming-rules/" class="">Naming rules</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/usage/details/" class="">Details</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/usage/notes/" class="">Notes</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/usage/demo/" class="">Demo</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-df9c64161b156bfffd3c37819ba87474" class="toggle"  />
    <label for="section-df9c64161b156bfffd3c37819ba87474" class="flex justify-between">
      <a href="/ITWorks/docs/jvm/tracer/road-map/" class="">Road map</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/road-map/short-term/" class="">Short term</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/road-map/long-term/" class="">Long term</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/road-map/new-syntax/" class="">New syntax</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Extensions</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/jvm/tracer/extensions/android/" class="">Android</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Android</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/android/util-core/" class="active">Util-core</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/android/util-view/" class="">Util-view</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-48404a5524d1704bcb4add35c067ddd2" class="toggle"  />
    <label for="section-48404a5524d1704bcb4add35c067ddd2" class="flex justify-between">
      <a role="button" class="">KDataStore</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/android/kdatastore/en/" class="">English</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/ITWorks/docs/android/kdatastore/cn/" class="">中文</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>








<br>


  
<ul>
  
  <li>
    <a href="/ITWorks/post/about/"  >
        About
      </a>
  </li>
  
  <li>
    <a href="https://github.com/ShawxingKwok"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
  <li>
    <a href="mailto:ShawxingKwok@126.com"  target="_blank" rel="noopener">
        Email
      </a>
  </li>
  
  <li>
    <a href="/ITWorks/post/license/"  >
        License
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/ITWorks/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Util-core</strong>

  <label for="toc-control">
    
    <img src="/ITWorks/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#appcontext">AppContext</a></li>
    <li><a href="#companion-extension-trick">Companion extension trick</a></li>
    <li><a href="#klog">KLog</a>
      <ul>
        <li><a href="#modify-logcat-view">Modify logcat view</a></li>
        <li><a href="#direct">Direct</a></li>
        <li><a href="#other-levels">Other levels</a></li>
        <li><a href="#more-args">More args</a>
          <ul>
            <li><a href="#tag-prefix">Tag prefix</a></li>
            <li><a href="#throwable">Throwable</a></li>
          </ul>
        </li>
        <li><a href="#avoid-tags-too-long">Avoid tags too long</a></li>
        <li><a href="#special-types">Special types</a></li>
        <li><a href="#automatic-cancel">Automatic cancel</a></li>
        <li><a href="#in-open-source-android-library">In open source android library</a></li>
        <li><a href="#in-each-app-submodule">In each app submodule</a></li>
        <li><a href="#extend">Extend</a></li>
        <li><a href="#provide-position-when-inline">Provide position when <code>inline</code></a></li>
      </ul>
    </li>
    <li><a href="#a-hrefhttpsgithubcomshawxingkwokandroidutil-core-target_blank-github-repo-a"><a href="https://github.com/ShawxingKwok/AndroidUtil-Core" target="_blank"> GitHub repo </a></a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><blockquote class="book-hint info">
  Contains only <code>AppContext</code> and <code>KLog</code> at present,
and would be expanded with some small practical tools in the future.
</blockquote>

<h1 id="setup">
  Setup
  <a class="anchor" href="#setup">#</a>
</h1>
<pre tabindex="0"><code>dependenceis{
    ...
    implementation (&#34;io.github.shawxingkwok:android-util-core:1.0.0&#34;)
}
</code></pre><h1 id="appcontext">
  AppContext
  <a class="anchor" href="#appcontext">#</a>
</h1>
<p>It is the static <code>applicationContext</code> for you to get anywhere. In this way, your
<code>Database</code>, <code>DAO</code>, <code>NetService</code> and some other tools could be static,
of which the profit is much more considerable than the additional resource memory.</p>
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=appcontext.png alt="" />
</div>
<h1 id="companion-extension-trick">
  Companion extension trick
  <a class="anchor" href="#companion-extension-trick">#</a>
</h1>
<p>Declare static <code>AppDatabase.INSTANCE</code> and <code>retrofit</code> based on <code>AppContext</code> first, then <code>DAO</code> and <code>Service</code>
could be created concisely.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=trick_dao.png alt="" />
</div>
<br>
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=trick_netservice.png alt="" />
</div>
<br>
Call them easily.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=trick_call.png alt="" />
</div></p>
<h1 id="klog">
  KLog
  <a class="anchor" href="#klog">#</a>
</h1>
<ul>
<li>Tag is global and has a link.</li>
<li>Logs are intelligently cancelled after released.</li>
<li>Light-weight. (2kb in jar)</li>
</ul>
<h2 id="modify-logcat-view">
  Modify logcat view
  <a class="anchor" href="#modify-logcat-view">#</a>
</h2>
<p>Extend tag first. As for others, it&rsquo;s my personal preferences.
<video controls preload="auto" width="100%"  playsinline class="html-video">
    <source src="/ITWorks/docs/android/util-core/logcat.mp4" type="video/mp4">
  <span>Your browser doesn't support embedded videos, but don't worry, you can <a href="/ITWorks/docs/android/util-core/logcat.mp4">download it</a> and watch it with your favorite video player!</span>
</video></p>
<h2 id="direct">
  Direct
  <a class="anchor" href="#direct">#</a>
</h2>
<p><code>obj</code>&rsquo;s type is <code>Any?</code> and printed out with its <code>toString</code>.</p>
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog.png alt="" />
</div>
<h2 id="other-levels">
  Other levels
  <a class="anchor" href="#other-levels">#</a>
</h2>
<p><div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_otherLevels.png alt="" />
</div>
<code>KLog.wtf</code> is not provided. In my opinion, you&rsquo;d better throw an error if fatal or use <code>KLog.e</code> if not.</p>
<h2 id="more-args">
  More args
  <a class="anchor" href="#more-args">#</a>
</h2>
<h3 id="tag-prefix">
  Tag prefix
  <a class="anchor" href="#tag-prefix">#</a>
</h3>
<p><div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_prefix.png alt="" />
</div> <div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
     <img src=klog_prefix_.png alt="" />
 </div></p>
<h3 id="throwable">
  Throwable
  <a class="anchor" href="#throwable">#</a>
</h3>
<p>This is assignable only in <code>KLog.e</code>.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_tr.png alt="" />
</div></p>
<h2 id="avoid-tags-too-long">
  Avoid tags too long
  <a class="anchor" href="#avoid-tags-too-long">#</a>
</h2>
<p>Make <code>id</code>, <code>tagPrefix</code> short, and avoid the file name too long, or else the link would fail.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_linkFail.png alt="" />
</div></p>
<h2 id="special-types">
  Special types
  <a class="anchor" href="#special-types">#</a>
</h2>
<p>Useful <code>KProperty0</code>, common <code>Array</code>, and basic type arrays are specially handled, since their <code>toString</code>
don&rsquo;t tell values.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_specialTypes.png alt="" />
</div></p>
<h2 id="automatic-cancel">
  Automatic cancel
  <a class="anchor" href="#automatic-cancel">#</a>
</h2>
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_src.png alt="" />
</div>
<p>Logs on level <code>V</code>, <code>D</code> and <code>I</code> are cancelled when not <code>onDebug</code>.</p>
<p>All logs from this library are automatically cancelled when the app is released.</p>
<h2 id="in-open-source-android-library">
  In open source android library
  <a class="anchor" href="#in-open-source-android-library">#</a>
</h2>
<p>Set an <strong>internal</strong> log object class.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=mlog_lib_class.png alt="" />
</div></p>
<p><code>id</code> should be an abbreviated all-caps library name for being easily distinguished from other tags.
<blockquote class="book-hint danger">
  Remember to build the module if there is no directory &lsquo;build&rsquo;, or else you probably import <code>BuildConfig</code> from another
library.
</blockquote>
</p>
<p>Effect
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=mlog_lib.png alt="" />
</div>
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=mlog_lib_.png alt="" />
</div></p>
<h2 id="in-each-app-submodule">
  In each app submodule
  <a class="anchor" href="#in-each-app-submodule">#</a>
</h2>
<p>Set a log class extended from <code>KLog.InApp</code>. Here sets <code>id</code> &ldquo;DB&rdquo;, supposing in the <code>database</code> module.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=mlog_app.png alt="" />
</div></p>
<p>Effect
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=mlog_app_.png alt="" />
</div></p>
<blockquote class="book-hint info">
  <code>tag~:APP</code> in the logcat could exclude logs from foreign libraries.
</blockquote>

<h2 id="extend">
  Extend
  <a class="anchor" href="#extend">#</a>
</h2>
<p>Source code
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_expand_src.png alt="" />
</div></p>
<p>Extend as this.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_expand_sample.png alt="" />
</div></p>
<blockquote class="book-hint danger">
  <code>stackTrace</code> in <code>log</code> is easily disturbed. Never call <code>log</code> indirectly like <code>super...</code>
or set defaults for your function parameters.
</blockquote>

<p>Or you could reference my concise <code>fun log</code>, <code>KLog</code> and design yourself.</p>
<h2 id="provide-position-when-inline">
  Provide position when <code>inline</code>
  <a class="anchor" href="#provide-position-when-inline">#</a>
</h2>
<p><code>stackTrace</code> is disturbed in <code>inline</code> functions and <code>crossinline</code> blocks.
Specify <code>tagPrefix</code> with <code>fileName</code> in these cases.
This problem also exists in links from other log libraries, and would be fixed by the kotlin standard library.
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_test_inline.png alt="" />
</div>
<br>
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_test_start.png alt="" />
</div>
<br>
Log out
<div style="border:1px solid black; padding-left:10px; padding-top:10px; padding-right:10px;">
    <img src=klog_test_console.png alt="" />
</div></p>
<h1 id="a-hrefhttpsgithubcomshawxingkwokandroidutil-core-target_blank-github-repo-a">
  <a href="https://github.com/ShawxingKwok/AndroidUtil-Core" target="_blank"> GitHub repo </a>
  <a class="anchor" href="#a-hrefhttpsgithubcomshawxingkwokandroidutil-core-target_blank-github-repo-a">#</a>
</h1>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">




  <div>
    <a class="flex align-center" href="https://github.com/ShawxingKwok/ITWorks/blob/main/content/docs/android/util-core/_index.md" target="_blank" rel="noopener">
      <img src="/ITWorks/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#appcontext">AppContext</a></li>
    <li><a href="#companion-extension-trick">Companion extension trick</a></li>
    <li><a href="#klog">KLog</a>
      <ul>
        <li><a href="#modify-logcat-view">Modify logcat view</a></li>
        <li><a href="#direct">Direct</a></li>
        <li><a href="#other-levels">Other levels</a></li>
        <li><a href="#more-args">More args</a>
          <ul>
            <li><a href="#tag-prefix">Tag prefix</a></li>
            <li><a href="#throwable">Throwable</a></li>
          </ul>
        </li>
        <li><a href="#avoid-tags-too-long">Avoid tags too long</a></li>
        <li><a href="#special-types">Special types</a></li>
        <li><a href="#automatic-cancel">Automatic cancel</a></li>
        <li><a href="#in-open-source-android-library">In open source android library</a></li>
        <li><a href="#in-each-app-submodule">In each app submodule</a></li>
        <li><a href="#extend">Extend</a></li>
        <li><a href="#provide-position-when-inline">Provide position when <code>inline</code></a></li>
      </ul>
    </li>
    <li><a href="#a-hrefhttpsgithubcomshawxingkwokandroidutil-core-target_blank-github-repo-a"><a href="https://github.com/ShawxingKwok/AndroidUtil-Core" target="_blank"> GitHub repo </a></a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












